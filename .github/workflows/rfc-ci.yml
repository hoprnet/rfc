name: RFC Validation Pipeline
on:
  push:
    branches: ["**"]
  pull_request:
    branches: ["**"]

jobs:
  validate:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout Repository
      uses: actions/checkout@93cb6efe18208431cddfb8368fd83d5badbf9bfd # v5.0.1

    - name: Remove unused files for further actions
      run: rm -fr .vscode && rm -fr latex

    - name: Install Nix
      uses: DeterminateSystems/nix-installer-action@c5a866b6ab867e88becbed4467b93592bce69f8a # v21

    - name: Enable Nix Cache
      uses: DeterminateSystems/magic-nix-cache-action@565684385bcd71bad329742eefe8d12f2e765b39 # v13

    - name: Check RFCs .md structure
      run: bash scripts/structure-check.sh

#    - name: Check Formatting
#      run: nix develop --command just format-check

#    - name: Check Spelling
#      run: nix develop --command just spell-check-ci
